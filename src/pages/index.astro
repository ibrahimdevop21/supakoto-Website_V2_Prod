---
import Layout from '../layouts/Layout.astro';
import ModernHeroCarousel from '@hero/ModernHeroCarousel.astro';
import ModernTrustedBy from '@shared/ModernTrustedBy';
import Testimonials from '../components/carousels/Testimonials';
import ServicesCTA from '@services/ServicesCTA';
import PPFComparison from '@shared/PPFComparison';
import ServiceTiers from '@services/ServiceTiers';

import LifestyleUseCases from '@services/LifestyleUseCases';
import { t } from '../i18n/index';
import { getSEOData } from '../utils/seo-content';
import { generateBreadcrumbSchema } from '../utils/seo-schemas';

// We can now use Astro's built-in i18n system
const currentLang = (Astro.currentLocale || 'en') as 'en' | 'ar';
// English is LTR, so rtl is false
const rtl = currentLang === 'ar';

// Get SEO-optimized content
const seoData = getSEOData('home', currentLang);

// Generate breadcrumb schema for home page
const breadcrumbSchema = generateBreadcrumbSchema([
	{ name: currentLang === 'ar' ? 'الرئيسية' : 'Home', url: 'https://supakoto.com' }
]);
---

<Layout 
	title={seoData.title}
	description={seoData.description}
	keywords={seoData.keywords}
	type="website"
	schema={breadcrumbSchema}
>
	<ModernHeroCarousel slot="hero" />
	
	<!-- Main content with responsive container and consistent spacing -->
	<main class="w-full">
		<!-- Trusted By Section -->
		<section class="py-12 sm:py-16 md:py-20 lg:py-24">
			<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
				<ModernTrustedBy client:visible locale={currentLang} />
			</div>
		</section>

		<!-- Protection Tiers Section -->
		<section class="py-12 md:py-16">
			<div class="container mx-auto px-4">
				<ServiceTiers client:visible currentLocale={currentLang} isRTL={rtl} />
			</div>
		</section>

		<!-- PPF Comparison Section -->
		<PPFComparison locale={currentLang as "en" | "ar"} client:visible />
		 


		<!-- Lifestyle Use Cases Section -->
		<section class="py-12 md:py-16">
			<div class="container mx-auto px-4">
				<LifestyleUseCases client:visible currentLocale={currentLang} isRTL={rtl} />
			</div>
		</section>

		<!-- Testimonials Section -->
		<section class="py-12 sm:py-16 md:py-20 lg:py-24">
			<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
				<Testimonials currentLocale={currentLang as "en" | "ar"} client:visible />
			</div>
		</section>

		<!-- Call to Action Section -->
		<ServicesCTA client:visible currentLocale={currentLang} isRTL={rtl} />
	</main>
</Layout>
