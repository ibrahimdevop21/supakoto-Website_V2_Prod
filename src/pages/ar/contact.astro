---
import Layout from '../../layouts/Layout.astro';
import ContactForm from '../../components/ContactForm.astro';
import StaticBranchCards from '../../components/contact/StaticBranchCards';
import { BRANCHES } from '../../data/branches';

// Get query parameters for deep linking
const selectedBranchId = Astro.url.searchParams.get('branch') || 'dubai';
const selectedBranch = BRANCHES.find(b => b.id === selectedBranchId) || BRANCHES[0];

// Arabic branches data (same as BRANCHES but for display)
const arabicBranches = BRANCHES;
---

<Layout title="تواصل معنا - سوباكوتو" description="تواصل مع سوباكوتو واختر أقرب فرع لك للحصول على أفضل خدمة حماية السيارات">
  <main class="min-h-screen text-white" dir="rtl">
    <div class="container mx-auto px-4 pt-24 pb-16 md:pt-32 md:pb-20">
      <!-- Page Title -->
      <div class="text-center mb-16">
        <h1 class="text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-6 bg-gradient-to-r from-white via-white to-neutral-300 bg-clip-text text-transparent">
          تواصل معنا
        </h1>
        <p class="text-neutral-400 text-lg md:text-xl max-w-3xl mx-auto leading-relaxed">
          احصل على عرض أسعار مخصص لسيارتك واختر الفرع الأقرب إليك
        </p>
      </div>

      <!-- Contact Form Section -->
      <div class="group relative bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-4 sm:p-6 md:p-8 mb-20 hover:border-slate-600/50 transition-all duration-300 hover:shadow-xl hover:shadow-slate-500/10 overflow-hidden">
        <div class="absolute top-0 left-0 w-32 h-32 bg-gradient-to-br from-white/5 to-transparent rounded-full -translate-y-16 -translate-x-16 group-hover:scale-150 transition-transform duration-500"></div>
        <div class="relative z-10">
          <ContactForm selectedBranch={selectedBranch} currentLang="ar" />
        </div>
      </div>

      <!-- فروعنا -->
      <div class="mb-20">
        <div class="text-center mb-12">
          <h2 class="text-3xl md:text-4xl font-bold text-white mb-4">فروعنا</h2>
          <p class="text-neutral-400 text-lg max-w-2xl mx-auto">
            قم بزيارة أي من فروعنا للحصول على خدمات حماية السيارات المتخصصة
          </p>
        </div>
        
        <StaticBranchCards 
          branches={arabicBranches} 
          locale="ar"
        />
      </div>

      <!-- FAQ Section -->
      <div class="bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-8 hover:border-slate-600/50 transition-all duration-300 hover:shadow-xl hover:shadow-slate-500/10">
        <h2 class="text-2xl font-bold text-white mb-8 text-center">الأسئلة الشائعة</h2>
        <div class="grid gap-6">
          <details class="group">
            <summary class="cursor-pointer text-white font-semibold py-3 px-4 rounded-xl bg-slate-800/50 hover:bg-slate-700/50 transition-colors duration-200 list-none flex items-center justify-between border border-slate-700/30">
              ما هو فيلم حماية الطلاء (PPF) ولماذا أحتاجه؟
              <span class="text-neutral-400 group-open:rotate-180 transition-transform duration-200">▼</span>
            </summary>
            <div class="mt-3 px-4 py-3 text-neutral-300 leading-relaxed text-sm">
              فيلم حماية الطلاء هو فيلم شفاف من اليوريثين الحراري يحمي طلاء سيارتك من الخدوش والشظايا والبقع والأضرار البيئية مع الحفاظ على المظهر الأصلي للسيارة.
            </div>
          </details>

          <details class="group">
            <summary class="cursor-pointer text-white font-semibold py-3 px-4 rounded-xl bg-slate-800/50 hover:bg-slate-700/50 transition-colors duration-200 list-none flex items-center justify-between border border-slate-700/30">
              كم من الوقت تستغرق عملية التركيب؟
              <span class="text-neutral-400 group-open:rotate-180 transition-transform duration-200">▼</span>
            </summary>
            <div class="mt-3 px-4 py-3 text-neutral-300 leading-relaxed text-sm">
              تختلف مدة التركيب حسب مساحة التغطية. عادة ما تستغرق التغطية الجزئية من 1 إلى 2 يوم، بينما قد تستغرق تغطية السيارة بالكامل من 3 إلى 5 أيام للحصول على أفضل النتائج.
            </div>
          </details>

          <details class="group">
            <summary class="cursor-pointer text-white font-semibold py-3 px-4 rounded-xl bg-slate-800/50 hover:bg-slate-700/50 transition-colors duration-200 list-none flex items-center justify-between border border-slate-700/30">
              ما هو الضمان الذي تقدمونه؟
              <span class="text-neutral-400 group-open:rotate-180 transition-transform duration-200">▼</span>
            </summary>
            <div class="mt-3 px-4 py-3 text-neutral-300 leading-relaxed text-sm">
              نقدم تغطية ضمان شاملة من 5 إلى 15 سنة حسب فئة المنتج، تغطي العيوب والاصفرار والتشقق والتقشر في ظل ظروف الاستخدام العادية.
            </div>
          </details>

          <details class="group">
            <summary class="cursor-pointer text-white font-semibold py-3 px-4 rounded-xl bg-slate-800/50 hover:bg-slate-700/50 transition-colors duration-200 list-none flex items-center justify-between border border-slate-700/30">
              هل يمكن إزالة فيلم الحماية بأمان؟
              <span class="text-neutral-400 group-open:rotate-180 transition-transform duration-200">▼</span>
            </summary>
            <div class="mt-3 px-4 py-3 text-neutral-300 leading-relaxed text-sm">
              نعم، يمكن للمحترفين إزالة فيلم الحماية المميز الخاص بنا بأمان دون الإضرار بالطلاء الأصلي، مما يترك سيارتك في حالة ممتازة.
            </div>
          </details>

          <details class="group">
            <summary class="cursor-pointer text-white font-semibold py-3 px-4 rounded-xl bg-slate-800/50 hover:bg-slate-700/50 transition-colors duration-200 list-none flex items-center justify-between border border-slate-700/30">
              هل تقدمون خدمات متنقلة؟
              <span class="text-neutral-400 group-open:rotate-180 transition-transform duration-200">▼</span>
            </summary>
            <div class="mt-3 px-4 py-3 text-neutral-300 leading-relaxed text-sm">
              حاليًا، يتم إجراء جميع عمليات التركيب في مراكزنا المعتمدة لضمان الظروف البيئية المثلى وأعلى جودة للنتائج.
            </div>
          </details>

          <details class="group">
            <summary class="cursor-pointer text-white font-semibold py-3 px-4 rounded-xl bg-slate-800/50 hover:bg-slate-700/50 transition-colors duration-200 list-none flex items-center justify-between border border-slate-700/30">
              ما الذي يميز سوباكوتو عن غيرها؟
              <span class="text-neutral-400 group-open:rotate-180 transition-transform duration-200">▼</span>
            </summary>
            <div class="mt-3 px-4 py-3 text-neutral-300 leading-relaxed text-sm">
              نستخدم فيلم حماية تاكاي الفاخر ذو خصائص الشفاء الذاتي المتفوقة، مدعومًا بضمانات شاملة ويتم تركيبه بواسطة محترفين معتمدين ذوي سنوات من الخبرة.
            </div>
          </details>
        </div>
      </div>
    </div>
  </main>

</Layout>
